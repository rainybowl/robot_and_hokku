<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />

<style type="text/css">
#left_eye,#left_foot,#smile_left{float:left}#mouth,#smile_left,#smile_right{height:3px;background-color:green}#hand,#rocket_bottom_left{left:9px}#main_robot,#mouth,#smile{position:absolute}#pristupok,#roof_left{border-left:1px solid #000}body{margin:0;padding:0;background-color:#B3C07E}#main_robot{width:600px;height:150px;border:2px solid #7CAA6C;top:30px;left:30px;background-color:#F5FDF9;border-radius:15px;z-index:100}#robot,#robot_looking{width:50px;height:80px;top:70px;left:0;position:absolute;padding:0}#face{margin:5px 5px 0;width:40px;height:25px}#eyes{margin-top:5px;margin-left:6px;width:28px;height:3px}#left_eye,#right_eye,#turned_eye{width:3px;height:3px;background-color:#000}#right_eye{margin-left:25px}#smile{width:20px;height:3px;top:20px;left:16px}#smile_left,#smile_right{width:3px;display:none}#smile_right{margin-left:17px}#mouth{width:16px;top:23px;left:18px}#body,#left_foot,#right_foot,#rocket_bottom_left,#rocket_bottom_right{border-left:1px solid #000;border-right:1px solid #000;border-bottom:1px solid #000}#body,#body_turned,#face,#foot_turned,#head_turned,#left_foot,#right_foot,#rocket_bottom_left,#rocket_bottom_right{background-color:#D8D9E0}#body_turned,#face,#foot_turned,#hand,#head_turned,#message,#rocket-body,#rocket_bottom,#talk,#window{border:1px solid #000}#body{width:30px;height:40px;margin-left:10px}#left_foot,#right_foot{width:7px;height:5px}div.feet{width:24px;height:5px;margin-left:12px}#body_turned,#roof_left,#roof_right,#window{width:30px;height:40px;position:absolute}#arrow,#talk{height:30px;background-color:#fff}#right_foot{margin-left:30px}#left_foot{margin-left:13px}#message{position:absolute;top:100px;padding:5px;font-family:Verdana;font-size:12px}#rocket{width:95px;height:130px;border:none;position:absolute;bottom:10px;right:10px}#roof_left{top:8px;left:28px;-moz-transform:rotate(35deg);-webkit-transform:rotate(35deg)}#roof_right{top:8px;left:25px;border-right:1px solid #000;-moz-transform:rotate(-35deg);-webkit-transform:rotate(-35deg)}#rocket-body{width:45px;height:70px;position:absolute;top:36px;left:18px}#rocket_bottom{width:63px;height:14px;position:absolute;left:9px;top:107px}#rocket_bottom_left,#rocket_bottom_right{width:15px;height:9px;position:absolute;top:120px;z-index:10;background-color:#fff}#rocket_bottom_right{left:57px}#window{top:15px;left:7px;border-radius:15px}#robot_turned{position:absolute;top:390px;width:50px;height:80px;border:1px solid red}#head_turned{width:20px;height:25px;position:absolute;top:5px;left:15px}#body_turned{top:31px;left:10px}#turned_eye{position:absolute;left:17px;top:5px}#foot_turned{width:20px;height:5px;position:absolute;top:72px;left:15px}#hand{border-top:none;width:10px;height:20px;position:absolute;top:8px}#pristupok{width:110px;height:9px;position:absolute;z-index:1;bottom:0;right:0;border-top:1px solid #000;border-top-left-radius:10px;background-color:#B2DBC6}#cloud{width:150px;height:70px;margin-left:10px;margin-top:3px;position:relative}#talk{width:80px;border-radius:30px;padding:5px 10px;font-size:11px}#arrow,#arrowL{border:none;margin-top:-18px}#arrow{width:10px;border-left:1px solid #000}#arrowL{width:1px;height:20px;border-left:1px solid #000;transform:rotate(30deg);-moz-transform:rotate(30deg);-webkit-transform:rotate(30deg);margin-left:5px}					
</style>

<script type="text/javascript">
function el(e){return document.getElementById(e)}function show(){for(var e=0;e<arguments.length;e++)arguments[e].style.display="block"}function hide(){for(var e=0;e<arguments.length;e++)arguments[e].style.display="none"}function createElem(e){var t=document.createElement(e.type?e.type:"div");t.id=e.id,e.width&&(t.style.width=e.width),e.height&&(t.style.height=e.height),e.top&&(t.style.top=e.width),e.left&&(t.style.left=e.left),e.display&&(t.style.display=e.display);var o=e.where?el(e.where):document;if(o.appendChild(t),e.details)for(var i=0;i<e.details.length;i++)createElem({id:e.details[i].id,where:e.id,details:e.details[i].details})}var Details={elements:[{id:"robot",width:"50px",height:"80px",left:"0px",where:"main_robot"},{id:"robot_looking",width:"50px",height:"80px",left:"0px",where:"main_robot"},{id:"face",where:"robot_looking",details:[{id:"eyes",details:[{id:"left_eye"},{id:"right_eye"}]},{id:"smile",details:[{id:"smile_left"},{id:"smile_right"}]},{id:"mouth"}]},{id:"body",where:"robot_looking"},{id:"feet",where:"robot_looking",details:[{id:"left_foot"},{id:"right_foot"}]},{id:"robot_turned",display:"none",left:"0px",where:"main_robot",details:[{id:"head_turned",details:[{id:"turned_eye"}]},{id:"body_turned",details:[{id:"hand"}]},{id:"foot_turned",where:"robot_turned"}]},{id:"rocket",where:"main_robot",details:[{id:"roof_left"},{id:"roof_right"},{id:"rocket-body",details:[{id:"window"}]},{id:"rocket_bottom"},{id:"rocket_bottom_left"},{id:"rocket_bottom_right"}]},{id:"pristupok",where:"main_robot"},{id:"cloud",top:"5px",left:"0px",display:"none",where:"main_robot",details:[{id:"talk"},{id:"arrow"},{id:"arrowL"}]}],create:function(){var e,t=this.elements.length;for(e=0;t>e;e++)createElem(this.elements[e])}},Robot=function(){this.smile=function(){show(el("smile_left"),el("smile_right"))},this.look=function(e){e=window.event||e;var t=e.keyCode;11!=parseInt(robot.style.left)&&116!=t&&setTimeout("el('robot').innerHTML = el('robot_looking').innerHTML;",1e3)},this.turn=function(e){e=window.event||e;var t=e.keyCode,o=el("robot");el("robot_looking");o.innerHTML=robot_looking.innerHTML;var i=parseInt(el("main_robot").style.left),l=i+parseInt(el("main_robot").style.width),n=parseInt(o.style.left)+i,r=n+parseInt(o.style.width);el("cloud").style.left=parseInt(o.style.left)+15+"px",hide(el("robot_looking")),o.innerHTML=el("robot_turned").innerHTML,39==t&&l-120>r?l>r&&(o.style.left=parseInt(o.style.left)+5+"px"):37==t&&(el("turned_eye").style.left="0px",n>i&&(o.style.left=parseInt(o.style.left)-5+"px")),r>l-130&&robo.smile()},this.write=function(e){talk.innerHTML=e},this.say=function(e){for(var t="",o=0;t.length<e.length;o++)t+=e[o],setTimeout("robo.write('"+t+"')",100*o)},this.talk=function(e){if(!flag){flag=1,show(el("cloud"));for(var t=0;t<e.length;t++)setTimeout("robo.say('"+e[t]+"')",t*e[t].length*150);setTimeout("hide(el('cloud')); flag = 0",1e3*(t+10))}}},robo=new Robot,flag,hokku=[["Яркая луна.","Ступая в твой след","Иду лунной тропинкой","Звёздам навстречу..."],["Тихо-тихо ползи","Улитка, по склону Фудзи,","Вверх, до самых высот."],["Где же светлячки?","От людской погони","Скрылись на луне."]];window.onload=function(){Details.create(),el("main_robot").onmouseover=function(){robo.talk(hokku[Math.floor(Math.random()*hokku.length)])},window.onkeydown=function(e){robo.turn(e)},window.onkeyup=function(e){robo.look(e)}};
</script>
</head>
	<body>
		<div id="main_robot" style="width: 600px; height: 150px; top: 30px; left: 30px"></div>
	</body>
</html>